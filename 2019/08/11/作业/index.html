<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>作业 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="John Doe">
  <meta name="keywords" content>
  <meta name="description" content>
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/main.css"> <link rel="stylesheet" href="/css/style.css"> <link rel="stylesheet" href="/css/menu.css"> 
  <script src="/js/jquery.min.js"></script>
  <script src="/js/jquery.jside.menu.js"></script>
	<script>
	$(document).ready(function(){
	$(".menu-container").jSideMenu({
	    jSidePosition: "position-right",
	    jSideSticky: true,
	    jSideSkin: "moonlit",
	     });
	}); 
	</script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext">
  
</head>
<body>
<div class="single">
<div id="page">
<div id="lx-aside" style="background-image: url(/images/page-cover.jpg)" data-stellar-background-ratio="0.5">
  <div class="overlay">
  <div class="page-title">
    <div class="avatar"><img src="/images/person_1.jpg"></div>
    <span>2019-08-11</span>
    <h2>作业</h2>
    </div>
</div>
</div>
<div id="lx-main-content">
  <div class="lx-post"> 
    <div class="lx-entry padding">
      <div>
        <h4 id="basedir"><a href="#basedir" class="headerlink" title="basedir"></a>basedir</h4><p>header.php:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt; </span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt; </span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;../css/css.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;center&gt;</span><br><span class="line">&lt;div class=&quot;div1&quot;&gt;</span><br><span class="line">     &lt;div&gt;            </span><br><span class="line">          &lt;div class=&quot;header_logo&quot;&gt;</span><br><span class="line">                &lt;img src=&quot;../data/imgs/logo.png&quot; &gt; </span><br><span class="line">          &lt;/div&gt;   </span><br><span class="line">          &lt;?php</span><br><span class="line">          if(!isset($_SESSION[&apos;name&apos;]))&#123;               </span><br><span class="line">          echo &lt;&lt;&lt;EOF    </span><br><span class="line">          &lt;div class=&quot;header_unlogin&quot;&gt;</span><br><span class="line">          &lt;a class=&quot;loginhead&quot; href=&apos;../lib/login.php&apos;&gt;登录&lt;/a&gt;    </span><br><span class="line">          &lt;a class=&quot;registerhead&quot; href=&apos;../lib/regist.php&apos;&gt;注册&lt;/a&gt;                       &lt;/div&gt;</span><br><span class="line">          EOF; </span><br><span class="line">      &#125;else&#123;</span><br><span class="line">          echo &lt;&lt;&lt;EOF          </span><br><span class="line">          &lt;div class=&quot;welcom&quot;&gt;&lt;p class=&quot;welname&quot;&gt;欢迎&#123;$_SESSION[&apos;name&apos;]&#125;&lt;/p&gt;&lt;/div&gt;            </span><br><span class="line">          &lt;div class=&quot;header_login&quot;&gt;            </span><br><span class="line">          &lt;img class=&quot;headimg&quot; src=&quot;&#123;$_SESSION[&apos;img&apos;]&#125;&quot; &gt;     </span><br><span class="line">          &lt;a class=&quot;logouthead&quot; href=&quot;../lib/logout.php&quot;&gt;注销&lt;/a&gt;            </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          EOF; </span><br><span class="line">          &#125;   </span><br><span class="line">          ?&gt;  </span><br><span class="line">       &lt;/div&gt;  </span><br><span class="line">   &lt;/div&gt; </span><br><span class="line">       &lt;hr&gt;</span><br></pre></td></tr></table></figure>

<p>footer.php:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?phpecho &lt;&lt;&lt;EOF&lt;hr&gt;&lt;p &gt;&lt;h1 align=&quot;center&quot;&gt;Author:0xxk&lt;/h1&gt;&lt;/p&gt;EOF;?&gt;</span><br></pre></td></tr></table></figure>

<h4 id="lib"><a href="#lib" class="headerlink" title="lib"></a>lib</h4><p>index.php:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">Require_once &apos;../basedir/header.php&apos;;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">Require_once &quot;xinwenzhanshi.php&quot;;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">Require_once &apos;../basedir/footer.php&apos;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>login.php:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">Require_once &apos;../basedir/header.php&apos;;</span><br><span class="line">?&gt;    </span><br><span class="line">    &lt;!DOCTYPE html&gt;    </span><br><span class="line">    &lt;html&gt;   </span><br><span class="line">    &lt;head &gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">    &lt;hr&gt; </span><br><span class="line">    &lt;div style=&quot;width:100%;text-align:center&quot;&gt;    </span><br><span class="line">    &lt;tr&gt;   </span><br><span class="line">    &lt;h1&gt;请输入编号&lt;/h1&gt;    </span><br><span class="line">    &lt;form action=&quot;login.php&quot; method=&quot;post&quot; &gt;     </span><br><span class="line">         &lt;p&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; placeholder=&quot;手机号/邮箱/用户名&quot;&gt;&lt;/p&gt;            &lt;p&gt;&lt;input type=&quot;password&quot; name=&quot;passwd&quot;&gt;&lt;/p&gt;   </span><br><span class="line">         &lt;p&gt;&lt;input class=&quot;input_code&quot;type=&quot;text&quot;name=&quot;verifycode&quot;placeholder=&quot;验证码&quot;&gt;&lt;/p&gt;        </span><br><span class="line">         &lt;img class=&quot;verifycode&quot; src=&quot;https://passport.360.cn/captcha.php?m=create&amp;app=i360&amp;scene=login&amp;userip=&amp;level=default&amp;sign=8820a4&amp;r=1564540365&amp;border=none&amp;_=1564540365972&quot;&gt;        </span><br><span class="line">         &lt;p&gt;&lt;input type=&quot;submit&quot; name=&quot;提交&quot;&gt;&lt;/p&gt;    </span><br><span class="line">      &lt;/form&gt;    </span><br><span class="line">      &lt;/tr&gt;       </span><br><span class="line">         &lt;tr&gt; </span><br><span class="line">            &lt;td align=&quot;right&quot;&gt;  </span><br><span class="line">                &lt;a href=&quot;../lib/register.php&quot;&gt;&lt;button  align=&quot;right&quot;&gt;用户注册&lt;/button&gt;&lt;/a&gt;   </span><br><span class="line">             &lt;/td&gt;</span><br><span class="line">           &lt;/tr&gt;</span><br><span class="line">         &lt;/div&gt; </span><br><span class="line">         &lt;/body&gt;  </span><br><span class="line">         &lt;/html&gt;</span><br><span class="line">     &lt;?php</span><br><span class="line">     Require_once &apos;../basedir/footer.php&apos;;</span><br><span class="line">     ?&gt;</span><br><span class="line">     &lt;?</span><br><span class="line">     phperror_reporting(E_ALL^E_NOTICE);</span><br><span class="line">     $uname = base64_encode($_POST[&apos;name&apos;]);</span><br><span class="line">     $upass = md5($_POST[&apos;passwd&apos;]);if ($uname &amp;&amp; $upass)&#123;</span><br><span class="line">     </span><br><span class="line">     $f = fopen(&apos;../data/用户信息文件/yh.db&apos;,&apos;r&apos;);   </span><br><span class="line">     while (!feof($f))&#123;    </span><br><span class="line">         $data = fgets($f);       </span><br><span class="line">         $arr = explode(&apos;|&apos;,$data);   </span><br><span class="line">         if(count($arr) !=4 )&#123;           </span><br><span class="line">              continue;        </span><br><span class="line">          &#125;    </span><br><span class="line">          </span><br><span class="line">          if ($arr[0] == $uname &amp;&amp; $arr[1] == $upass)&#123;        </span><br><span class="line">            $idd = base64_decode($arr[0]);           </span><br><span class="line">            session_start();          </span><br><span class="line">            $_SESSION[&apos;username&apos;]=$idd;           </span><br><span class="line">            echo &quot;&lt;script&gt;alert(&apos;登录成功！将跳转到主页！&apos;);location.href=&apos;index.php&apos;;&lt;/script&gt;&quot;;           </span><br><span class="line">            break;       </span><br><span class="line">          &#125;    </span><br><span class="line">       &#125; </span><br><span class="line">       echo &quot;&lt;script&gt;alert(&apos;用户名或者密码错误，请重新登录！&apos;);location.href=&apos;login.php&apos;;&lt;/script&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>logout.php:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">error_reporting(E_ALL^E_NOTICE);</span><br><span class="line">unset($_SESSION[&apos;username&apos;]);</span><br><span class="line">?&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;    </span><br><span class="line">     &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">     &lt;script&gt;alert(&apos;退出成功！将跳转到主页面！&apos;);location.href=&apos;index.php&apos;;&lt;/script&gt;&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>


      </div>
    </div>		
  </div>
</div>
<div class="lx-navigation">
	<div class="lx-cover prev lx-cover-sm" style="background-image: url(/images/footer_1.jpg)">
		<div class="overlay"></div>
		<a class="copy" href="/2019/08/12/mysql作业/">
			<div class="display-t">
				<div class="display-tc">
					<div>
						<span>Next</span>
						<h3>mysql作业</h3>
					</div>
				</div>
			</div>
		</a>
	</div>
        <div class="lx-cover next lx-cover-sm" style="background-image: url(/images/footer_2.jpg)">
		<div class="overlay"></div>
		<a class="copy" href="/2019/08/11/新闻/">
			<div class="display-t">
				<div class="display-tc">
					<div>
						<span>Prev</span>
						<h3>新闻</h3>
					</div>
				</div>
			</div>
		</a>
	</div>
</div>
</div>

<footer>
  <div>
  Copyright &copy; 2019.<a href="/">Hexo</a><br>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme <a href="https://lx.blleng.cn" target="_blank">Lx</a><br>
  </div>
</footer>
</div>
<button class="menu-trigger"></button>
  <div class="menu">
	<div class="menu-head">
	   <span class="layer">
	<div class="col">
	  <div class="row for-pic">
	   <div class="profile-pic">     
	   <img src="/images/person_1.jpg" alt="Asif Mughal"> 
	         </div>
	  </div>
	         <div class="row for-name">
	         <p>John Doe</p>
	        <span class="tagline">Hello, World!</span>
	          </div>
	         </div> 
	  </span>
	</div>
	<nav class="menu-container">
	<ul class="menu-items">
	<li><span class="item-icon"><i class="fa fa-home"></i></span> <a href="/">首页</a></li>
  <li><span class="item-icon"><i class="fa fa-archive"></i></span> <a href="/archives/">归档</a></li> 
	<li class="has-sub"> <span class="item-icon"> <i class="fa fa-bookmark"></i> </span>
	<span class="dropdown-heading">页面</span><ul>
   <li> <a href="/guestbook">留言</a></li><li> <a href="/about">关于</a></li>
	  </ul>
	 </li>
    <li class="has-sub"> <span class="item-icon"> <i class="fa fa-link"></i> </span>
	 <span class="dropdown-heading">友链</span><ul>
   <li> <a href="https://lx.blleng.cn" target="_blank">Theme-Lx</a></li>
	  </ul>
	 </li>
	</ul>
	</nav>
  </div>
<div class="gototop js-top">
  <a href="#" class="js-gotop"><i class="fa fa-arrow-up"></i></a>
</div>


<script src="/js/jquery.easing.min.js"></script>
<script src="/js/jquery.waypoints.min.js"></script>
<script src="/js/jquery.stellar.min.js"></script>
<script src="/js/main.js"></script>


</body>
</html>